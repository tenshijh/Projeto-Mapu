<!DOCTYPE html>
<html lang="pt-BR">
  <head>
  <meta charset="utf-8">
  <title>Projeto Mapu</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
      font-family: Arial, sans-serif;
      background: #000;
      overflow: hidden;
      opacity: 0;
      animation: fadeIn 2s ease-in forwards;
    }
    
    #introLogos.fade-out {
  opacity: 0;
  pointer-events: none;
  transition: opacity 1s ease-in-out;
}

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    #map {
      height: 100vh;
      width: 100%;
      filter: blur(4px) brightness(0.7);
      transition: filter 1s ease-in-out;
      z-index: 1;
    }
    
    /* Overlay central */
    .overlay {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(255, 255, 255, 0.85);
      padding: 40px;
      border-radius: 12px;
      text-align: center;
      z-index: 10;
      border: 8px solid transparent;
      border-image: url("sua-moldura.png") 30 round; /* Trocar pela moldura real */
      opacity: 1;
      transition: opacity 1s ease-in-out;
    }
    .overlay.fade-out {
      opacity: 0;
      pointer-events: none;
    }
    .overlay img {
      width: 275px;
      margin-bottom: 20px;
    }
    .btn-iniciar {
      background: #2e7d32;
      color: white;
      padding: 12px 24px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
      transition: background 0.3s, transform 0.2s;
    }
    .btn-iniciar:hover {
      background: #1b5e20;
      transform: scale(1.05);
    }

    /* Base dos √≠cones personalizados */
    .custom-marker {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      border: 2px solid white;
      background-color: red;
      box-shadow: 0 0 4px rgba(0,0,0,0.5);
      cursor: pointer;
      transition: transform 0.2s, background-color 0.2s;
    }
    .etnia-miranha { background-color: #fbff02;; }  
    .etnia-tikuna { background-color: #0fb309; }  
    .etnia-cambeba { background-color: #4444ff; }
    .etnia-kokama { background-color: crimson;}  
    .custom-marker:hover {
      transform: scale(1.2);
      background-color: gold;
    }

    /* Popup */
    .popup-etnia {
      background: rgba(255,255,255,0.9);
      padding: 10px;
      border-radius: 8px;
      font-size: 14px;
    }
    .popup-etnia h3 {
      margin: 0 0 5px;
      font-size: 16px;
      font-weight: bold;
    }
    .popup-etnia img {
      width: 100%;
      border-radius: 6px;
      margin-top: 5px;
    }
    #audioControl {
      position: fixed;
      top: 20px;
      right: 20px;
      background-color: #222;
      color: #fff;
      border: none;
      padding: 10px 15px;
      border-radius: 5px;
      cursor: pointer;
      font-family: sans-serif;
      z-index: 999;
    }
  </style>
</head>
<body>
    <body>


        
<div id="introLogos">
      <!-- TOPO COM GRAFISMO -->
  <div class="top-banner">
    <img src="logos/grafismo 2.png" alt="Grafismo topo">
  </div>

   <!-- RODAP√â COM LOGOS -->
  <div class="footer-logos">
    <img src="logos/logoTEFE.png" alt="Logo 1">
    <img src="logos/logoSEDECTI.png" alt="Logo 2">
    <img src="logos/HAK.png" alt="Logo 3">
    <img src="logos/logoFAPEAM.png" alt="Logo 4">
    <img src="logos/logoSCDET.png" alt="Logo 5">
    <img src="logos/logoAM.png" alt="Logo 6">
  </div>
</body>

<style>
    
  /* TOP BANNER */
  .top-banner {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 100;
    text-align: center;
  }

  .top-banner img {
    width: 100%;       /* ocupa toda a largura */
    height: auto;      /* mant√©m propor√ß√£o */
  }

  /* FOOTER LOGOS */
  .footer-logos {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    display: flex;
    justify-content: center;
    gap: 20px;        /* espa√ßo entre as logos */
    padding: 10px 0;
    background: transparent; /* sem fundo, s√≥ as logos */
    z-index: 150;
  }

  .footer-logos img {
    height: 40px;     /* tamanho pequeno das logos */
    width: auto;      /* mant√©m propor√ß√£o */
  }
</style>

<!-- Logo com texto "Criado por" -->
<div class="logo-extra">
  <p>CRIADO POR:</p>
  <img src="logos/logo st.png" alt="Logo Extra">
    </div>
</div>

<style>
  .logo-extra {
    position: fixed;
    top: 35px;              /* dist√¢ncia do topo */
    left: 50%;
    transform: translateX(-50%);
    text-align: center;     /* centraliza texto e imagem */
    z-index: 200;
    color: white;           /* cor do texto */
    font-weight: bold;
    font-size: 14px;
    font-family: Arial, sans-serif;
  }

  .logo-extra img {
    max-height:60px;       /* ajuste o tamanho da logo */
    margin-top:1px;    /* espa√ßo entre o texto e a imagem */
  }

  .custom-marker.etnia-principal {
  background-color: #00ff3c;
  border-radius: 50%;
  border: 2px solid white;
}

.custom-marker.tema-marker {
  background-color: rgba(255, 255, 255, 0.5);
  border-radius: 50%;
  border: 1px dashed gray;
}

.custom-marker.etnia-principal.etnia-kokama {
  background-color: #ff0000; /* amarelo */
  border-radius: 50%;
  border: 2px solid white;
}

.custom-marker.etnia-principal.etnia-miranha {
  background-color: #f2ff00; /* vermelho alaranjado */
  border-radius: 50%;
  border: 2px solid white;
}

.custom-marker.etnia-principal.etnia-cambeba {
  background-color: #0000FF; /* azul */
  border-radius: 50%;
  border: 2px solid white;
}

.leaflet-tooltip.tema-tooltip {
  background-color: rgba(0, 128, 0, 0.2); /* verde transparente */
  color: #1B5E20;
  font-weight: bold;
  border: none;
  box-shadow: none;
  font-size: 13px;
  padding: 4px 8px;
  border-radius: 4px;
}

#fonteAutor {
  position: fixed;
  bottom: 10px;
  left: 10px;
  color: black;
  font-size: 14px;
  font-family: Arial, sans-serif;
  z-index: 999;
  display: none;
}

#creditosAutor {
  position: fixed;
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%);
  color: white;
  font-size: 14px;
  font-family: Arial, sans-serif;
  z-index: 999;
  display: none;
}

</style>


  <!-- √Åudio invis√≠vel -->
  <audio id="bgMusic" autoplay>
    <source src="music.mp3" type="audio/mpeg">
    Seu navegador n√£o suporta √°udio HTML5.
  </audio>

  <!-- Bot√£o de controle -->
  <button id="audioControl">üîä M√∫sica: ON</button>

  <div id="map"></div>

  <!-- Cr√©ditos no mapa -->
    <div id="fonteAutor">Fonte: Carioca & Rodrigues, 2021</div>
    <div id="creditosAutor">CRIADO POR START TECH</div>



  <!-- Overlay inicial -->
   
  <div class="overlay" id="overlay">
    <img src="logos/logo mapu2.png" alt="Logo Projeto Mapu">
    <h1></h1>
    <button class="btn-iniciar" onclick="iniciar()">Iniciar</button>
  </div>
  
  

  <script>
    // Mapa centralizado em Tef√©-AM
    const map = L.map('map').setView([-3.42, -64.64], 11);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '¬© OpenStreetMap contributors',
      maxZoom: 19
    }).addTo(map);

    // √Årea maior (mantida)
    const territorio = L.rectangle([[-10, -75], [2, -55]], {
      color: "#008000",
      weight: 2,
      fillOpacity: 0.4
    }).addTo(map);

    map.on('zoom', () => {
      const zoom = map.getZoom();
      const novaOpacidade = Math.max(0, 0.4 - (zoom - 5) * 0.07);
      territorio.setStyle({ fillOpacity: novaOpacidade });
    });

    // Fun√ß√£o para criar marcador customizado
    function marcadorEtnia(lat, lng, classeCor, nome, descricao, imgUrl) {
      const icon = L.divIcon({
        className: 'custom-marker ' + classeCor,
        iconSize: [24, 24],
        popupAnchor: [0, -12]
      });

      const marker = L.marker([lat, lng], { icon }).addTo(map);

      marker.bindTooltip(tema.titulo, {
  permanent: false,
  direction: "top",
  className: "tema-tooltip"
});

marker.on("dblclick", () => {
  marker.bindPopup(`
    <div style="border: 2px solid #2E7D32; border-radius: 8px; padding: 10px; max-width: 300px; font-family: Arial, sans-serif;">
      <h4 style="margin-top: 0; color: #1B5E20;">${tema.titulo}</h4>
      <p style="font-size: 14px;">${tema.descricao}</p>
    </div>
  `).openPopup();
});



      marker.bindTooltip(tema.titulo, {
  permanent: true,
  direction: "top",
  className: "tema-tooltip"
});

    }

    // üî¥ Mantendo exemplos que voc√™ j√° tinha
    //marcadorEtnia(-3.1, -60.0, "etnia-x", "Etnia X", "Breve hist√≥ria da Etnia X aqui...", "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Amazon_rainforest.jpg/320px-Amazon_rainforest.jpg");
    //marcadorEtnia(-4.0, -65.0, "etnia-x", "Kokama", "Hist√≥ria resumida de Kokama", "https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/Rio_Negro_Amazonas_Brazil.jpg/320px-Rio_Negro_Amazonas_Brazil.jpg");
    //marcadorEtnia(-5.0, -70.0, "etnia-z", "Etnia Z", "Descri√ß√£o da Etnia Z...", "images");

    // Coordenadas aproximadas da Barreira da Miss√£o
const barreiraMissao = L.polygon([
  [-3.388415, -64.639706],
  [-3.398980, -64.649616],
  [-3.400043, -64.648761],
  [-3.420218, -64.657683],
  [-3.443563, -64.638072],
  [-3.444320, -64.628040],
  [-3.433148, -64.623775],
  [-3.430835, -64.624216],
  [-3.428260, -64.623913],
  [-3.425695, -64.622745],  
  [-3.417992, -64.618299],
  [-3.414902, -64.616933],
  [-3.403319, -64.612651],
  [-3.400728, -64.612209],
  [-3.400762, -64.613468],
  [-3.401182, -64.614276],
  [-3.400819, -64.614996],
  [-3.400811, -64.615979],
  [-3.400209, -64.617162],
  [-3.399508, -64.620315],
  [-3.399297, -64.623259],
  [-3.392762, -64.636038]
], {
  color: "green",
  weight: 2,
  fillOpacity: 0.3
}).addTo(map);

// Tooltip flutuante ao passar o mouse
barreiraMissao.bindTooltip("Territ√≥rio Barreira da Miss√£o ‚Äì Tef√©/AM", {
  permanent: false,
  direction: "center",
  className: "territorio-tooltip"
});

// Controle de abertura/fechamento do popup
let territorioAberto = false;

barreiraMissao.on("dblclick", () => {
  if (!territorioAberto) {
    barreiraMissao.bindPopup(`
      <div style="border: 2px solid #2E7D32; border-radius: 8px; padding: 10px; max-width: 320px; font-family: Arial, sans-serif;">
        <h3 style="margin-top: 0; color: #1B5E20;">Terra Ind√≠gena Barreira da Miss√£o</h3>
        <img src="imagens/barreira.jpg" style="width: 100%; border-radius: 6px; margin-bottom: 8px;">
        <p style="font-size: 14px;">
          Localizada em Tef√©-AM, a TI Barreira da Miss√£o possui cerca de <strong>1.772 hectares</strong> e abriga aproximadamente <strong>859 habitantes</strong>, distribu√≠dos em quatro comunidades: Barreira de Cima, Barreira do Meio, Barreira de Baixo e Betel.
        </p>
        <p style="font-size: 14px;">
          O territ√≥rio re√∫ne os povos <strong>Tikuna, Kokama, Cambeba</strong> e <strong>Miranha</strong>, preservando tradi√ß√µes, rituais e modos de vida ligados √† floresta e ao rio. √â uma √°rea de grande biodiversidade e de forte import√¢ncia cultural para a regi√£o.
        </p>
        <p style="font-size: 13px; color: #555;">
          <strong>Curiosidade:</strong> a Barreira da Miss√£o √© considerada uma das terras ind√≠genas mais preservadas do M√©dio Solim√µes e s√≠mbolo da resist√™ncia cultural dos povos que ali vivem.
        </p>
      </div>
    `).openPopup();
    territorioAberto = true;
  } else {
    barreiraMissao.closePopup();
    territorioAberto = false;
  }
});


function iniciar() {
  // D√° zoom autom√°tico no territ√≥rio da Barreira da Miss√£o
  const bounds = barreiraMissao.getBounds();
  map.flyToBounds(bounds, {
    padding: [50, 50],
    duration: 2
  });

  // Esconde o overlay de in√≠cio
  document.getElementById("overlay").style.display = "none";
}




// ETINIA TIKUNAS     
    const temasTikuna = [
  { lat: -3.400, lng: -64.638, titulo: "Hist√≥rico - TIKUNAS", descricao: "Um dos povos mais numerosos da Amaz√¥nia. Habitam √°reas pr√≥ximas ao Rio Solim√µes, incluindo a TI Barreira da Miss√£o. Sofreram impactos da coloniza√ß√£o, mas mant√™m parte da organiza√ß√£o comunit√°ria tradicional." },
  { lat: -3.410, lng: -64.635, titulo: "Cultura - TIKUNAS", descricao: "Celebram rituais marcantes, como a Festa da Mo√ßa Nova, um dos mais importantes para a passagem da inf√¢ncia √† vida adulta feminina. Artefatos de madeira e pinturas corporais s√£o s√≠mbolos culturais." },
  { lat: -3.414, lng: -64.637, titulo: "Culin√°ria - TIKUNAS", descricao: "Baseada na pesca e agricultura: consomem peixes variados, mandioca, farinha e frutas amaz√¥nicas como a√ßa√≠ e buriti." },
  { lat: -3.419, lng: -64.633, titulo: "Resist√™ncia e Supera√ß√£o - TIKUNAS", descricao: "Sofreram forte press√£o mission√°ria e perda de territ√≥rios, mas conseguiram preservar grande parte de sua l√≠ngua e cultura." },
  { lat: -3.412, lng: -64.630, titulo: "Curiosidades - TIKUNAS", descricao: "S√£o conhecidos por suas m√°scaras rituais coloridas e por preservar sua l√≠ngua pr√≥pria, a ticuna, falada por milhares de pessoas." }
];

       
    //marcadores de caracteristicas dos tikuna
     const tikunaIcon = L.divIcon({
  className: 'custom-marker etnia-principal',
  iconSize: [30, 30]
});

const tikunaMarker = L.marker([-3.396, -64.633], { icon: tikunaIcon }).addTo(map);
tikunaMarker.bindTooltip("Tikuna", { permanent: false, direction: "top" });
tikunaMarker.bindPopup(`<h3>Tikuna</h3><p>Povo Tikuna presente na regi√£o.</p><img src="imagens/tikuna.png" width="100%">`);

const tikunaTemasMarkers = [];
const tikunaLinhas = [];

temasTikuna.forEach((tema) => {
  const temaIcon = L.divIcon({
    className: 'custom-marker tema-marker',
    iconSize: [20, 20]
  });

  const marker = L.marker([tema.lat, tema.lng], {
    icon: temaIcon,
    opacity: 0
  }).addTo(map);

  marker.bindPopup(`<h4>${tema.titulo}</h4><p>${tema.descricao}</p>`);
  tikunaTemasMarkers.push(marker);

  const linha = L.polyline([[-3.396, -64.633], [tema.lat, tema.lng]], {
    color: 'gray',
    weight: 1,
    opacity: 0
  }).addTo(map);
  tikunaLinhas.push(linha);

let mouseDentro = false;

function mostrarTemasTikuna() {
  tikunaTemasMarkers.forEach(m => m.setOpacity(0.5));
  tikunaLinhas.forEach(l => l.setStyle({ opacity: 0.5 }));
}

function esconderTemasTikuna() {
  if (!mouseDentro) {
    tikunaTemasMarkers.forEach(m => m.setOpacity(0));
    tikunaLinhas.forEach(l => l.setStyle({ opacity: 0 }));
  }
}

// Ativa ao passar o mouse no marcador principal
tikunaMarker.on('mouseover', () => {
  mouseDentro = true;
  mostrarTemasTikuna();
});

tikunaMarker.on('mouseout', () => {
  mouseDentro = false;
  setTimeout(esconderTemasTikuna, 300); // pequeno delay
});

// Ativa ao passar o mouse nos marcadores tem√°ticos
tikunaTemasMarkers.forEach(marker => {
  marker.on('mouseover', () => {
    mouseDentro = true;
    mostrarTemasTikuna();
  });
  marker.on('mouseout', () => {
    mouseDentro = false;
    setTimeout(esconderTemasTikuna, 300);
  });
});

});

// ETINIA KOKAMAS      
const temasKokama = [
  { lat: -3.405, lng: -64.624, titulo: "Hist√≥rico - KOKAMAS", descricao: "Origin√°rios do Alto Solim√µes, sofreram intensa miscigena√ß√£o e contato colonial." },
  { lat: -3.409, lng: -64.624, titulo: "Cultura - KOKAMAS", descricao: "Rituais ligados ao rio, pesca e espiritualidade." },
  { lat: -3.413, lng: -64.626, titulo: "Culin√°ria - KOKAMAS", descricao: "Peixes assados, farinha, tucupi e frutas amaz√¥nicas." },
  { lat: -3.420, lng: -64.628, titulo: "Resist√™ncia e Supera√ß√£o - KOKAMAS", descricao: "Perderam quase totalmente a l√≠ngua tradicional devido √† coloniza√ß√£o, mas hoje trabalham para resgatar sua identidade cultural." },
  { lat: -3.416, lng: -64.622, titulo: "Curiosidades - KOKAMAS", descricao: "Conhecimento profundo sobre plantas medicinais." }
];
    
    //marcadores de caracteristicas dos kokama
      const kokamaIcon = L.divIcon({
  className: 'custom-marker etnia-principal etnia-kokama',
  iconSize: [30, 30]
});

const kokamaMarker = L.marker([-3.400, -64.624], { icon: kokamaIcon }).addTo(map);
kokamaMarker.bindTooltip("Kokama", { permanent: false, direction: "top" });
kokamaMarker.bindPopup(`<h3>Kokama</h3><p>Povo Kokama presente na regi√£o.</p><img src="imagens/kokama.png" width="100%">`);

const kokamaTemasMarkers = [];
const kokamaLinhas = [];

temasKokama.forEach((tema) => {
  const temaIcon = L.divIcon({
    className: 'custom-marker tema-marker',
    iconSize: [20, 20]
  });

  const marker = L.marker([tema.lat, tema.lng], {
    icon: temaIcon,
    opacity: 0
  }).addTo(map);

  marker.bindPopup(`<h4>${tema.titulo}</h4><p>${tema.descricao}</p>`);
  kokamaTemasMarkers.push(marker);

  const linha = L.polyline([[-3.400, -64.624], [tema.lat, tema.lng]], {
    color: 'gray',
    weight: 1,
    opacity: 0
  }).addTo(map);
  kokamaLinhas.push(linha);

  marker.on('mouseover', () => {
    marker.setOpacity(1);
  });

  marker.on('mouseout', () => {
    marker.setOpacity(0.5);
  });
});

let mouseDentroKokama = false;

function mostrarTemasKokama() {
  kokamaTemasMarkers.forEach(m => m.setOpacity(0.5));
  kokamaLinhas.forEach(l => l.setStyle({ opacity: 0.5 }));
}

function esconderTemasKokama() {
  if (!mouseDentroKokama) {
    kokamaTemasMarkers.forEach(m => m.setOpacity(0));
    kokamaLinhas.forEach(l => l.setStyle({ opacity: 0 }));
  }
}

kokamaMarker.on('mouseover', () => {
  mouseDentroKokama = true;
  mostrarTemasKokama();
});

kokamaMarker.on('mouseout', () => {
  mouseDentroKokama = false;
  setTimeout(esconderTemasKokama, 300);
});

kokamaTemasMarkers.forEach(marker => {
  marker.on('mouseover', () => {
    mouseDentroKokama = true;
    mostrarTemasKokama();
  });
  marker.on('mouseout', () => {
    mouseDentroKokama = false;
    setTimeout(esconderTemasKokama, 300);
  });
});

// ETINIA CAMBEBAS   
const temasCambeba = [
  { lat: -3.417, lng: -64.648, titulo: "Hist√≥rico - CAMBEBAS", descricao: "Conhecidos como Om√°gua, habitavam grandes √°reas amaz√¥nicas, mas foram reduzidos ap√≥s miss√µes religiosas." },
  { lat: -3.400, lng: -64.645, titulo: "Cultura - CAMBEBAS", descricao: "Dan√ßas tradicionais, grafismos coloridos e valoriza√ß√£o da mem√≥ria hist√≥rica." },
  { lat: -3.412, lng: -64.650, titulo: "Culin√°ria - CAMBEBAS", descricao: "Beiju, peixe moqueado e pratos com tucupi." },
  { lat: -3.420, lng: -64.646, titulo: "Resist√™ncia e Supera√ß√£o - CAMBEBAS", descricao: "Sofreram apagamento cultural e quase perderam sua l√≠ngua, mas hoje est√£o em processo de revitaliza√ß√£o identit√°ria." },
  { lat: -3.410, lng: -64.642, titulo: "Curiosidades - CAMBEBAS", descricao: "Um dos primeiros povos catequizados no per√≠odo colonial." }
];

    //marcadores de caracteristicas dos cambeba
     const cambebaIcon = L.divIcon({
  className: 'custom-marker etnia-principal etnia-cambeba',
  iconSize: [30, 30]
});

const cambebaMarker = L.marker([-3.394, -64.638], { icon: cambebaIcon }).addTo(map);
cambebaMarker.bindTooltip("Cambeba", { permanent: false, direction: "top" });
cambebaMarker.bindPopup(`<h3>Cambeba</h3><p>Povo Cambeba presente na regi√£o.</p><img src="imagens/cambeba.png" width="100%">`);
const cambebaTemasMarkers = [];
const cambebaLinhas = [];

temasCambeba.forEach((tema) => {
  const temaIcon = L.divIcon({
    className: 'custom-marker tema-marker',
    iconSize: [20, 20]
  });

  const marker = L.marker([tema.lat, tema.lng], {
    icon: temaIcon,
    opacity: 0
  }).addTo(map);

  marker.bindPopup(`<h4>${tema.titulo}</h4><p>${tema.descricao}</p>`);
  cambebaTemasMarkers.push(marker);

  const linha = L.polyline([[-3.394, -64.638], [tema.lat, tema.lng]], {

    color: 'gray',
    weight: 1,
    opacity: 0
  }).addTo(map);
  cambebaLinhas.push(linha);

  marker.on('mouseover', () => {
    marker.setOpacity(1);
  });

  marker.on('mouseout', () => {
    marker.setOpacity(0.5);
  });
});

let mouseDentroCambeba = false;

function mostrarTemasCambeba() {
  cambebaTemasMarkers.forEach(m => m.setOpacity(0.5));
  cambebaLinhas.forEach(l => l.setStyle({ opacity: 0.5 }));
}

function esconderTemasCambeba() {
  if (!mouseDentroCambeba) {
    cambebaTemasMarkers.forEach(m => m.setOpacity(0));
    cambebaLinhas.forEach(l => l.setStyle({ opacity: 0 }));
  }
}

cambebaMarker.on('mouseover', () => {
  mouseDentroCambeba = true;
  mostrarTemasCambeba();
});

cambebaMarker.on('mouseout', () => {
  mouseDentroCambeba = false;
  setTimeout(esconderTemasCambeba, 300);
});

cambebaTemasMarkers.forEach(marker => {
  marker.on('mouseover', () => {
    mouseDentroCambeba = true;
    mostrarTemasCambeba();
  });
  marker.on('mouseout', () => {
    mouseDentroCambeba = false;
    setTimeout(esconderTemasCambeba, 300);
  });
});


// ETINIA MIRANHAS  

      const temasMiranha = [
  { lat: -3.410, lng: -64.621, titulo: "Hist√≥rico - MIRANHAS", descricao: "Povo de origem tukano ocidental, ocupavam √°reas do Japur√° e Solim√µes." },
  { lat: -3.412, lng: -64.620, titulo: "Cultura - MIRANHAS", descricao: "Pr√°ticas espirituais ligadas ao rio, cantos e rituais tradicionais." },
  { lat: -3.410, lng: -64.617, titulo: "Culin√°ria - MIRANHAS", descricao: "Peixes, mandioca, frutas e bebidas fermentadas." },
  { lat: -3.404, lng: -64.617, titulo: "Resist√™ncia e Supera√ß√£o - MIRANHAS", descricao: "Foram duramente impactados por conflitos territoriais e doen√ßas, resultando em redu√ß√£o populacional e dispers√£o." },
  { lat: -3.408, lng: -64.619, titulo: "Curiosidades - MIRANHAS", descricao: "Conhecidos pelo uso de tinturas naturais e t√©cnicas de pesca artesanal." }
];

    //marcadores de caracteristicas dos miranha
     const miranhaIcon = L.divIcon({
  className: 'custom-marker etnia-principal etnia-miranha',
  iconSize: [30, 30]
});

const miranhaMarker = L.marker([-3.402, -64.616], { icon: miranhaIcon }).addTo(map);
miranhaMarker.bindTooltip("Miranha", { permanent: false, direction: "top" });
miranhaMarker.bindPopup(`<h3>Miranha</h3><p>Povo Miranha presente na regi√£o.</p><img src="imagens/miranha.png" width="100%">`);

const miranhaTemasMarkers = [];
const miranhaLinhas = [];

temasMiranha.forEach((tema) => {
  const temaIcon = L.divIcon({
    className: 'custom-marker tema-marker',
    iconSize: [20, 20]
  });

  const marker = L.marker([tema.lat, tema.lng], {
    icon: temaIcon,
    opacity: 0
  }).addTo(map);

  marker.bindPopup(`<h4>${tema.titulo}</h4><p>${tema.descricao}</p>`);
  miranhaTemasMarkers.push(marker);

  const linha = L.polyline([[-3.402, -64.616], [tema.lat, tema.lng]], {
    color: 'gray',
    weight: 1,
    opacity: 0
  }).addTo(map);
  miranhaLinhas.push(linha);

  marker.on('mouseover', () => {
    marker.setOpacity(1);
  });

  marker.on('mouseout', () => {
    marker.setOpacity(0.5);
  });
});

let mouseDentroMiranha = false;

function mostrarTemasMiranha() {
  miranhaTemasMarkers.forEach(m => m.setOpacity(0.5));
  miranhaLinhas.forEach(l => l.setStyle({ opacity: 0.5 }));
}

function esconderTemasMiranha() {
  if (!mouseDentroMiranha) {
    miranhaTemasMarkers.forEach(m => m.setOpacity(0));
    miranhaLinhas.forEach(l => l.setStyle({ opacity: 0 }));
  }
}

miranhaMarker.on('mouseover', () => {
  mouseDentroMiranha = true;
  mostrarTemasMiranha();
});

miranhaMarker.on('mouseout', () => {
  mouseDentroMiranha = false;
  setTimeout(esconderTemasMiranha, 300);
});

miranhaTemasMarkers.forEach(marker => {
  marker.on('mouseover', () => {
    mouseDentroMiranha = true;
    mostrarTemasMiranha();
  });
  marker.on('mouseout', () => {
    mouseDentroMiranha = false;
    setTimeout(esconderTemasMiranha, 300);
  });
});


//////-----------------------------------------------------------------////
function iniciar() {
  // Some com a tela inicial
  document.getElementById("overlay").classList.add("fade-out");
  document.getElementById("introLogos").classList.add("fade-out");
  document.getElementById("map").style.filter = "none";

  // Exibe os cr√©ditos
  document.getElementById("fonteAutor").style.display = "block";
  document.getElementById("creditosAutor").style.display = "block";

  // Faz o zoom animado para o territ√≥rio da Barreira da Miss√£o
  const bounds = barreiraMissao.getBounds();
  map.flyToBounds(bounds, {
    padding: [50, 50],   // Espa√ßo extra ao redor
    duration: 1          // Dura√ß√£o do zoom (em segundos)
  });
}



  const audio = document.getElementById("bgMusic");
    const button = document.getElementById("audioControl");

    // Define volume baixo
    audio.volume = 0.2;

    // Alterna entre play/pause
    button.addEventListener("click", () => {
      if (audio.paused) {
        audio.play();
        button.textContent = "üîä ";
      } else {
        audio.pause();
        button.textContent = "üîá ";
      }
    });

  </script>


</body>
</html>